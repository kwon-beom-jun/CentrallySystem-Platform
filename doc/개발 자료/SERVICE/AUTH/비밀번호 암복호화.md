# λΉ„λ°€λ²νΈ μ•”λ³µνΈν™”

## π” λΉ„λ°€λ²νΈ μ•”νΈν™” λ°©μ‹

### κ°μ”
λ΅κ·ΈμΈ μ‹ λΉ„λ°€λ²νΈλ” **RSA κ³µκ°ν‚¤ μ•”νΈν™”**λ¥Ό ν†µν•΄ μ „μ†΅λ©λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ μ „μ†΅ μ¤‘ λΉ„λ°€λ²νΈκ°€ λ…Έμ¶λλ” κ²ƒμ„ λ°©μ§€ν•©λ‹λ‹¤.

### μ•”νΈν™” ν”„λ΅μ„Έμ¤

1. **ν”„λ΅ νΈμ—”λ“ (λ΅κ·ΈμΈ μ‹)**
   - μ‚¬μ©μκ°€ λ΅κ·ΈμΈ λ²„νΌ ν΄λ¦­
   - `/auth/public-key` APIλ΅ RSA κ³µκ°ν‚¤ μ΅°ν
   - `jsencrypt` λΌμ΄λΈλ¬λ¦¬λ¥Ό μ‚¬μ©ν•μ—¬ λΉ„λ°€λ²νΈλ¥Ό RSA μ•”νΈν™”
   - μ•”νΈν™”λ λΉ„λ°€λ²νΈλ¥Ό `/auth/login` APIλ΅ μ „μ†΅

2. **λ°±μ—”λ“ (λ΅κ·ΈμΈ μ²λ¦¬)**
   - μ•”νΈν™”λ λΉ„λ°€λ²νΈ μμ‹ 
   - RSA κ°μΈν‚¤λ΅ λ³µνΈν™”
   - BCryptλ¥Ό μ‚¬μ©ν•μ—¬ μ €μ¥λ ν•΄μ‹μ™€ λΉ„κµ κ²€μ¦

### κΈ°μ  μ¤ν™

- **μ•”νΈν™” μ•κ³ λ¦¬μ¦**: RSA
- **ν‚¤ κΈΈμ΄**: 2048λΉ„νΈ
- **ν‚¤ κ°±μ‹  μ£ΌκΈ°**: 1μ‹κ°„λ§λ‹¤ μλ™ κ°±μ‹ 
- **ν‚¤ μ €μ¥ μ„μΉ**: μ„λ²„ λ©”λ¨λ¦¬ (μΈμ¤ν„΄μ¤λ‹Ή 1κ° ν‚¤ μ)

### ν‚¤ κ΄€λ¦¬ λ°©μ‹

#### λ©”λ¨λ¦¬ κΈ°λ° λ‹¨μΌ ν‚¤ μ κ΄€λ¦¬
- μ„λ²„ μ‹μ‘ μ‹ RSA ν‚¤ μ μλ™ μƒμ„±
- λ¨λ“  μ‚¬μ©μκ°€ **λ™μΌν• κ³µκ°ν‚¤**λ¥Ό μ‚¬μ©
- ν‚¤λ” **μ„λ²„ λ©”λ¨λ¦¬μ—λ§** μ €μ¥ (λ””μ¤ν¬ μ €μ¥ μ—†μ)
- 1μ‹κ°„λ§λ‹¤ μλ™μΌλ΅ μƒ ν‚¤ μ μƒμ„± (κΈ°μ΅΄ ν‚¤λ” νκΈ°)

#### λ©”λ¨λ¦¬ μ‚¬μ©λ‰ λ¶„μ„

**RSA 2048λΉ„νΈ ν‚¤ μ ν¬κΈ°:**
- κ³µκ°ν‚¤ (PublicKey κ°μ²΄): μ•½ **294 λ°”μ΄νΈ**
- κ°μΈν‚¤ (PrivateKey κ°μ²΄): μ•½ **1,217 λ°”μ΄νΈ**
- Base64 μΈμ½”λ”©λ κ³µκ°ν‚¤ λ¬Έμμ—΄: μ•½ **392 λ°”μ΄νΈ**
- Base64 μΈμ½”λ”©λ κ°μΈν‚¤ λ¬Έμμ—΄: μ•½ **1,624 λ°”μ΄νΈ**
- **μ΄ λ©”λ¨λ¦¬ μ‚¬μ©λ‰: μ•½ 2~3KB**

**μ¶”κ°€ λ©”λ¨λ¦¬ μ¤λ²„ν—¤λ“:**
- KeyPair κ°μ²΄ λν•‘: μ•½ 100λ°”μ΄νΈ
- ConcurrentHashMap (ν‚¤ νƒ€μ„μ¤νƒ¬ν”„ μ¶”μ ): μ•½ 1KB
- **μ΄ μμƒ λ©”λ¨λ¦¬: μ•½ 4~5KB**

#### λ€κ·λ¨ μ‚¬μ©μ μ²λ¦¬ κ°€λ¥μ„±

1. **ν‚¤λ” μ‚¬μ©μ μμ™€ λ¬΄κ΄€**: μ„λ²„μ— ν‚¤ μμ€ **μ¤μ§ 1κ°λ§** μ΅΄μ¬
   - μ‚¬μ©μ 1λ…μ΄λ“  100λ§ λ…μ΄λ“  λ©”λ¨λ¦¬ μ‚¬μ©λ‰ λ™μΌ (μ•½ 4~5KB)
   - κ° μ‚¬μ©μκ°€ λ…λ¦½μ μΈ ν‚¤λ¥Ό κ°€μ§€μ§€ μ•μ

2. **λ™μ‹ λ΅κ·ΈμΈ μ²λ¦¬:**
   - λ™μΌ κ³µκ°ν‚¤λ΅ μ•”νΈν™”λ λΉ„λ°€λ²νΈλ“¤μ„ λ™μΌ κ°μΈν‚¤λ΅ λ³µνΈν™”
   - λ³µνΈν™”λ” **CPU μ—°μ‚°**μ΄λ―€λ΅ λ©”λ¨λ¦¬ μ‚¬μ©λ‰ μ¦κ°€ μ—†μ
   - λ™μ‹ 1λ§ λ… λ΅κ·ΈμΈ μ‹μ—λ„ ν‚¤ λ©”λ¨λ¦¬λ” λ™μΌ

3. **λ©”λ¨λ¦¬ ν¨μ¨μ„±:**
   - μ„λ²„ μΈμ¤ν„΄μ¤λ‹Ή **μ•½ 5KB**λ§ μ‚¬μ©
   - 10κ° μ„λ²„ μΈμ¤ν„΄μ¤ μ΄μ μ‹μ—λ„ μ΄ **μ•½ 50KB** μ •λ„λ§ μ‚¬μ©
   - μΌλ° μ„λ²„ λ©”λ¨λ¦¬ (2GB~16GB) κΈ°μ¤€μΌλ΅ λ¬΄μ‹ν•  μ μλ” μμ¤€

### λ³΄μ• κ³ λ ¤μ‚¬ν•­

#### μ¥μ 
β… **μ „μ†΅ μ¤‘ λΉ„λ°€λ²νΈ λ³΄νΈ**: HTTPSμ™€ ν•¨κ» μ΄μ¤‘ μ•”νΈν™” μ κ³µ  
β… **μ¤‘κ°„μ κ³µκ²© λ°©μ§€**: λ„¤νΈμ›ν¬ μƒμ—μ„ ν‰λ¬Έ λΉ„λ°€λ²νΈ λ…Έμ¶ λ°©μ§€  
β… **ν‚¤ μλ™ κ°±μ‹ **: 1μ‹κ°„λ§λ‹¤ μƒ ν‚¤ μƒμ„±μΌλ΅ λ³΄μ• κ°•ν™”  
β… **ν‰λ¬Έ λΉ„λ°€λ²νΈ μ°¨λ‹¨**: λ°±μ—”λ“μ—μ„ ν‰λ¬Έ λΉ„λ°€λ²νΈ μ”μ²­ μλ™ κ±°λ¶€

#### μ£Όμμ‚¬ν•­
β οΈ **ν‚¤ κ°±μ‹  μ‹ μ κΉμ λ΅κ·ΈμΈ μ‹¤ν¨ κ°€λ¥**: ν‚¤ κ°±μ‹  μ¤‘κ°„μ— μ•”νΈν™”λ λΉ„λ°€λ²νΈλ¥Ό λ³΄λ‚Έ κ²½μ° μ‹¤ν¨ν•  μ μμ  
  - **ν•΄κ²°μ±…**: ν‚¤ κ°±μ‹  μ‹¤ν¨ μ‹ ν”„λ΅ νΈμ—”λ“μ—μ„ μ¬μ‹λ„ λ΅μ§ κµ¬ν„ κ¶μ¥

β οΈ **μ„λ²„ μ¬μ‹μ‘ μ‹ ν‚¤ μ΄κΈ°ν™”**: μ„λ²„ μ¬μ‹μ‘ μ‹ μƒ ν‚¤ μƒμ„±λλ―€λ΅ μ΄μ „ ν‚¤λ΅ μ•”νΈν™”λ μ”μ²­μ€ μ‹¤ν¨  
  - **ν•΄κ²°μ±…**: μ„λ²„ μ¬μ‹μ‘ ν›„ ν”„λ΅ νΈμ—”λ“μ—μ„ κ³µκ°ν‚¤ μ¬μ΅°ν ν•„μ”

### κ΄€λ ¨ νμΌ

**ν”„λ΅ νΈμ—”λ“:**
- RSA μ•”νΈν™” μ ν‹Έλ¦¬ν‹° νμΌ
- κ³µκ°ν‚¤ μ΅°ν λ° λ΅κ·ΈμΈ API νμΌ
- λ΅κ·ΈμΈ ν™”λ©΄ μ»΄ν¬λ„νΈ (μ•”νΈν™” λ΅μ§ ν¬ν•¨)

**λ°±μ—”λ“:**
- RSA μ•”νΈν™”/λ³µνΈν™” μ ν‹Έλ¦¬ν‹° ν΄λμ¤
- ν‚¤ μ κ΄€λ¦¬ μ„λΉ„μ¤ ν΄λμ¤
- λ΅κ·ΈμΈ μ„λΉ„μ¤ ν΄λμ¤ (λ³µνΈν™” λ΅μ§ ν¬ν•¨)
- κ³µκ°ν‚¤ μ κ³µ API μ»¨νΈλ΅¤λ¬

### μ„¤μ • νμΌ

**κ²μ΄νΈμ›¨μ΄:**
- `/auth/public-key` μ—”λ“ν¬μΈνΈκ°€ JWT μΈμ¦ μ μ™Έ λ©λ΅μ— λ“±λ΅λ¨
- κ²μ΄νΈμ›¨μ΄ μ„¤μ • νμΌμ `jwt.excluded-paths` ν™•μΈ
